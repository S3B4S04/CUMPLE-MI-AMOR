<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Para ti mi amor</title>
<style>
:root{--accent:#ff4d7a;}
*{box-sizing:border-box;}
body{
  margin:0; padding:0;
  background:radial-gradient(#0b0210 0%,#000 70%);
  display:flex; flex-direction:column; align-items:center;
  font-family:Arial,sans-serif;
  overflow-x:hidden; min-height:100vh; color:#fff;
}

/* Corazones */
.heart{position:fixed; bottom:-10px; font-size:20px; color:rgba(255,100,150,0.85); pointer-events:none; animation:floatUp linear infinite; z-index:1;}
@keyframes floatUp{0%{transform:translateY(0) scale(0.8);opacity:0.9}100%{transform:translateY(-120vh) scale(1.6);opacity:0}}

/* Palabras top con brillo y flotando */
.word-container{
  display:flex; flex-wrap:wrap; justify-content:center;
  width:100%; padding:12px 16px; gap:10px; z-index:4; pointer-events:none;
}
.word{
  font-size:28px; font-weight:700; opacity:0;
  display:inline-block; transform:translateY(20px) scale(0.8);
  transition:opacity 3s ease, transform 3s ease, text-shadow 3s ease, left 3s ease;
  position:relative;
}
.word.show{
  opacity:1;
  transform:translateY(0) scale(1);
  animation:glow 1.5s infinite alternate, floatHorizontal 3s ease-in-out infinite alternate;
}
.word.fade-out{
  opacity:0; transform:translateY(-20px) scale(0.5);
  transition:opacity 3s ease, transform 3s ease;
}

@keyframes glow{
  0%{text-shadow:0 0 2px #fff, 0 0 6px #ff9acb;}
  50%{text-shadow:0 0 6px #fff, 0 0 12px #ff4d7a;}
  100%{text-shadow:0 0 3px #fff, 0 0 8px #ff76a1;}
}

@keyframes floatHorizontal{
  0%{left:0px;}
  25%{left:4px;}
  50%{left:0px;}
  75%{left:-3px;}
  100%{left:0px;}
}

/* Titulo */
.titulo-type{
  font-size:clamp(32px,6.5vw,60px);
  color:var(--accent); white-space:nowrap;
  border-right:3px solid var(--accent); width:18ch;
  overflow:hidden; margin:8px auto; font-weight:800;
  text-align:center; z-index:4;
  animation:typing 3.2s steps(18,end), blink .7s infinite;
}
@keyframes typing{from{width:0}}
@keyframes blink{50%{border-color:transparent}}

/* Fotos iniciales */
.photos-initial{
  display:flex; gap:12px; margin-top:12px; justify-content:center;
}
.photos-initial img{
  width:calc(48vw - 24px); max-width:320px; height:auto; border-radius:16px; object-fit:cover;
  box-shadow:0 10px 30px rgba(0,0,0,0.6); border:4px solid rgba(255,255,255,0.06);
}

/* Fotos después de carta */
#fotos-section{display:none; flex-direction:column; align-items:center; margin-top:24px;}
#fotos-section h2{font-size:28px; margin-bottom:16px; color:#ff9acb;}
.foto-item{
  width:180px; height:180px; border-radius:16px;
  object-fit:cover; margin:8px 0;
  box-shadow:0 8px 20px rgba(0,0,0,0.5);
  transition: transform .35s ease, box-shadow .35s ease;
}
.foto-item:hover{transform:scale(1.05); box-shadow:0 12px 28px rgba(255,80,140,0.4);}

/* Botones */
.btn, #btn-carta2{
  display:inline-block;
  margin-top:18px; padding:12px 26px; font-size:18px; border:none;
  border-radius:28px; background:linear-gradient(90deg,#ff76a1,#ff4d7a);
  color:white; cursor:pointer; font-weight:700;
}

/* Cartas */
#carta,#carta2{
  display:none; margin-top:28px; color:#fff;
  width:92%; max-width:820px; font-size:18px; line-height:1.7;
  text-align:center; z-index:4;
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  padding:24px; border-radius:12px; border:1px solid rgba(255,255,255,0.04);
}

/* Texto bottom fijo blanco con máquina de escribir */
#bottomText{
  color:white; font-size:18px; line-height:1.6;
  width:90%; max-width:820px; text-align:center;
  margin-top:12px;
}

/* Mensaje final */
#final-msg{
  margin-top:18px;font-size:34px;font-weight:800;
  color:#ff9acb;text-align:center;display:none;
  z-index:4;text-shadow:0 6px 20px rgba(255,0,120,0.07);
}

/* Responsive */
@media(max-width:520px){
  .foto-item{width:140px;height:140px;}
  #fotos-section h2{font-size:22px;}
  .word{font-size:18px;}
  .titulo-type{font-size:34px;}
  #bottomText{font-size:16px;}
  .photos-initial img{width:86vw;}
}
</style>
</head>
<body>

<audio id="bg-audio" autoplay loop>
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<div id="topWords" class="word-container"></div>
<h1 class="titulo-type">Para ti mi amor</h1>

<!-- Fotos iniciales -->
<div class="photos-initial">
  <img src="tu2.jpg" alt="Foto 1">
  <img src="tu.jpg" alt="Foto 2">
</div>

<div id="bottomText"></div>

<button class="btn" onclick="mostrarCarta()">Te escribí algo...</button>

<div id="carta" role="article" aria-live="polite">
  <p id="textoCarta"></p>
</div>

<div id="fotos-section">
  <h2>Nuestros momentos juntos</h2>
  <img src="foto1.jpg" class="foto-item" style="align-self:flex-start;">
  <img src="foto2.jpg" class="foto-item" style="align-self:flex-end;">
  <img src="foto3.jpg" class="foto-item" style="align-self:flex-start;">
  <img src="foto4.jpg" class="foto-item" style="align-self:flex-end;">
</div>

<button id="btn-carta2" onclick="mostrarCarta2()">Ups, acá también te escribí algo…</button>

<div id="carta2" role="article" aria-live="polite">
  <p id="textoCarta2"></p>
</div>

<div id="final-msg">Feliz cumpleaños, mi amor ❤️</div>

<script>
// Colores y palabras top
const wordsTop=["hermosa","única","bella","increíble","inteligente","especial","mágica","maravillosa","tierna","valiente","brillante","dulce","radiante","adorable","auténtica","soñadora","fuerte","perfecta","encantadora","preciosa","luminosa","inolvidable","cariñosa","leal"];
const colors=["#ff4f4f","#ffd700","#6ab8ff","#ff7af6","#8aff91","#ffb347","#b28cff","#ffd1aa"];

// Animación palabras top cada 3s con movimiento horizontal aleatorio
function animateWordsTop(list){
  const container=document.getElementById("topWords");
  container.innerHTML="";
  let i=0;
  const displayed=[];
  function showNext(){
    const span=document.createElement('span');
    span.className='word';
    span.textContent=list[i];
    span.style.color=colors[i%colors.length];
    container.appendChild(span);
    setTimeout(()=>span.classList.add('show'),50);

    // asignar desplazamiento horizontal aleatorio
    const shift = Math.random()*12 - 6; // -6 a +6px
    span.style.setProperty('--shift', shift+'px');
    span.style.left = shift+'px';

    displayed.push(span);
    if(displayed.length>2){
      const old=displayed.shift();
      old.classList.remove('show');
      old.classList.add('fade-out');
      setTimeout(()=>old.remove(),3000);
    }

    i=(i+1)%list.length;
    setTimeout(showNext,3000);
  }
  showNext();
}
animateWordsTop(wordsTop);

// Texto bottom máquina de escribir
const bottomText="Gracias por ser tú por cuidarme por quererme por estar conmigo siempre por ser tan especial para mí mi amor mi hogar";
let idxBottom=0;
function escribirBottomText(){
  const el=document.getElementById("bottomText");
  if(idxBottom<bottomText.length){
    el.textContent+=bottomText.charAt(idxBottom);
    idxBottom++;
    setTimeout(escribirBottomText,40);
  }
}
escribirBottomText();

// Corazones
function crearCorazon(){
  const heart=document.createElement('div');
  heart.className='heart'; heart.textContent='❤';
  heart.style.left=Math.random()*100+'vw';
  heart.style.fontSize=(14+Math.random()*28)+'px';
  heart.style.animationDuration=(6+Math.random()*7)+'s';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),11000);
}
setInterval(crearCorazon,700);

// Primera carta
const cartaTexto=`Mi amor…

Hoy es tu cumpleaños y aunque no pueda estar físicamente a tu lado, quiero que sientas que este rincón late por ti.

Estos nueve meses han sido un viaje hermoso: risas, pequeñas peleas que se olvidán al instante, confidencias en la madrugada y una calma que solo existe contigo. Me das paz y me empujas a ser mejor.

Me encanta cada detalle tuyo: cómo frunces el ceño cuando piensas, cómo sonríes con los ojos, la forma en que haces pequeño lo grande.

Quiero proponerte algo: escoge tú el día.  
El día que quieras, cuando tengas permiso y tiempo, cuando no haya prisas y puedas disfrutar.  
Ese día será todo para ti: mi abrazo, mi tiempo, y la tranquilidad de celebrar como te mereces.

Te amo demaciado más de lo que estas palabras alcanzan a decir.
`;
let idx=0;
function mostrarCarta(){
  const cartaEl=document.getElementById('carta');
  cartaEl.style.display='block';
  cartaEl.setAttribute('tabindex','-1'); cartaEl.focus();
  escribirCarta();
}
function escribirCarta(){
  const p=document.getElementById('textoCarta');
  if(idx<cartaTexto.length){
    p.textContent+=cartaTexto.charAt(idx);
    idx++;
    setTimeout(escribirCarta,32);
  }else{
    document.getElementById('fotos-section').style.display='flex';
    document.getElementById('btn-carta2').style.display='block';
  }
}

// Segunda carta
const carta2Texto=`Mi vida… 

Cada día que pasa descubro algo nuevo de ti que me hace enamorarme aún más. 
Tu risa ilumina mis días, tu mirada calma mis tormentas, y tus abrazos son mi refugio. 
No hay palabras suficientes para describir lo afortunado que me siento de tenerte en mi vida.

Quiero que sepas que cada detalle, cada instante contigo, se queda grabado en mi corazón. 
Eres mi inspiración, mi paz, mi alegría y mi hogar. 
Contigo, todo parece posible y cada momento es único.

Deseo que siempre recuerdes lo mucho que te amo, que cada día a tu lado es un regalo, 
y que mi corazón late por ti hoy y siempre. ❤️
`;
let idx2=0;
function mostrarCarta2(){
  const carta2El=document.getElementById('carta2');
  carta2El.style.display='block';
  carta2El.setAttribute('tabindex','-1'); carta2El.focus();
  escribirCarta2();
}
function escribirCarta2(){
  const p=document.getElementById('textoCarta2');
  if(idx2<carta2Texto.length){
    p.textContent+=carta2Texto.charAt(idx2);
    idx2++;
    setTimeout(escribirCarta2,32);
  }else{
    document.getElementById('final-msg').style.display='block';
  }
}

// Audio
const audio=document.getElementById('bg-audio');
audio.addEventListener('play',()=>{});
audio.addEventListener('error',()=>{});
setTimeout(()=>{
  if(audio.paused){
    const p=document.createElement('div');
    p.style.position='fixed';
    p.style.right='18px'; p.style.bottom='18px'; p.style.zIndex='6';
    p.innerHTML='<button style="padding:10px 14px;border-radius:14px;border:none;background:linear-gradient(90deg,#ff76a1,#ff4d7a);color:#fff;font-weight:700;">Reproducir música</button>';
    document.body.appendChild(p);
    p.querySelector('button').onclick=()=>{audio.play().catch(()=>{});p.remove();}
  }
},800);
</script>
</body>
</html>
